JAVA_OPTS=${JAVA_OPTS:-"-Xms32m -Xmx64m -XX:+ExitOnOutOfMemoryError"}

exec java ${JAVA_OPTS} -cp . \
  -Dzipkin.endpoint=${ZIPKIN_ENDPOINT:=http://zipkin:9411/api/v2/spans} \
  -Dzipkin.supportsJoin=${ZIPKIN_SUPPORTS_JOIN:=true} \
  -Dbackend.endpoint=${BACKEND_ENDPOINT:=http://backend:9000/api} \
  -Dloader.main=brave.webmvc.$(echo "${ZIPKIN_SERVICE}" | sed 's/.*/\u&/') \
   org.springframework.boot.loader.PropertiesLauncher --server.port=${PORT}
